(this["webpackJsonpbook-shelf"]=this["webpackJsonpbook-shelf"]||[]).push([[5],{46:function(t,e,a){"use strict";a.d(e,"a",(function(){return u})),a.d(e,"b",(function(){return l}));var r=a(47),n=a.n(r),o=a(48),c=a(49),i=a.n(c),s="https://book-shelf-management.herokuapp.com",u=function(){var t=Object(o.a)(n.a.mark((function t(e){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Get",s+e),t.prev=1,t.next=4,i.a.get(s+e,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(o.a)(n.a.mark((function t(e,a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post(s+e,JSON.stringify(a),{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},78:function(t,e,a){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a.r(e);var s=a(10),u=a(11),l=a(13),m=a(12),p=a(0),b=a.n(p),f=a(46),d=function(t){Object(l.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).handleChange=function(e,a){var r=i({},t.state.data);r[a]=e.target.value,t.validateInput(e,a),t.setState({data:r})},t.validateInput=function(e,a){var r=i({},t.state.validation),n=e.target.value;switch(a){case"book_name":r[a]=""===n?"Please enter book name":"";break;case"author":r[a]=""===n?"Please enter author name":""}t.setState({validation:r})},t.submitForm=function(e){e.preventDefault();var a=i({},t.state.data);t.setState({loading:!0}),Object(f.b)("/books",a).then((function(e){if(t.setState({loading:!1}),201===e.status){if("success"===e.data.status){var r=n(t.global.books);r.unshift(a),Object(p.setGlobal)({books:r}),alert(e.data.message)}}else alert("Something went wrong, Please try again")}))},t.state={data:{book_name:"",author:""},validation:{book_name:"",author:""},loading:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state.validation,a=e.book_name,r=e.author;return b.a.createElement("div",{className:"col-md-4 margintop-20"},b.a.createElement("div",{className:"card bg-light mb-3"},b.a.createElement("div",{className:"card-header"},"Enter book details"),b.a.createElement("div",{className:"card-body left-text"},b.a.createElement("form",{onSubmit:function(e){return t.submitForm(e)}},b.a.createElement("div",{className:"form-group"},b.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Book name"),b.a.createElement("input",{type:"text",defaultValue:this.state.data.book_name,className:"form-control",placeholder:"Enter book name",onChange:function(e){return t.handleChange(e,"book_name")},onBlur:function(e){return t.validateInput(e,"book_name")}}),b.a.createElement("small",{className:"form-text text-muted error"},a)),b.a.createElement("div",{className:"form-group"},b.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Author name"),b.a.createElement("input",{type:"text",defaultValue:this.state.data.author,className:"form-control",placeholder:"Enter author name",onChange:function(e){return t.handleChange(e,"author")},onBlur:function(e){return t.validateInput(e,"author")}}),b.a.createElement("small",{className:"form-text text-muted error"},r)),b.a.createElement("button",{disabled:this.state.loading||""===this.state.data.book_name||""===this.state.data.author||""!==this.state.validation.book_name||""!==this.state.validation.author,type:"submit",className:"btn btn-primary"},"Submit")))))}}]),a}(b.a.Component);e.default=d}}]);
//# sourceMappingURL=5.ac4d58c8.chunk.js.map